---
import BaseLayout from '../layouts/BaseLayout.astro';
import ProductGallery from '../components/ProductGallery.vue';
import { client } from '../lib/sanityClient';

// A busca de produtos e categorias continua a mesma
const products = await client.fetch(`*[_type == "product"]{..., "slug": slug.current, category->}`);
const categories = await client.fetch(`*[_type == "category"] | order(title asc)`);
---
<BaseLayout>
  <ProductGallery client:load products={products} categories={categories} />
</BaseLayout>